(()=>{var e={418:e=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,i,l=a(e),u=1;u<arguments.length;u++){for(var c in s=Object(arguments[u]))r.call(s,c)&&(l[c]=s[c]);if(t){i=t(s);for(var d=0;d<i.length;d++)n.call(s,i[d])&&(l[i[d]]=s[i[d]])}}return l}},408:(e,t,r)=>{"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(418),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,i=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),i=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var y="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f={};function g(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||p}function h(){}function v(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=g.prototype;var _=v.prototype=new h;_.constructor=v,n(_,g.prototype),_.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,o={},s=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,n)&&!w.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:a,type:e,key:s,ref:i,props:o,_owner:b.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var j=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,r,n,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case o:l=!0}}if(l)return s=s(l=e),e=""===n?"."+R(l,0):n,Array.isArray(s)?(r="",null!=e&&(r=e.replace(j,"$&/")+"/"),x(s,t,r,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+R(i=e[u],u);l+=x(i,t,r,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=x(i=i.value,t,r,c=n+R(i,u++),s);else if("object"===i)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function B(e,t,r){if(null==e)return e;var n=[],a=0;return x(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function O(){var e=C.current;if(null===e)throw Error(m(321));return e}var P={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:B,forEach:function(e,t,r){B(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return B(e,(function(){t++})),t},toArray:function(e){return B(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(m(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null==e)throw Error(m(267,e));var o=n({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=b.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:a,type:e.type,key:s,ref:i,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:i,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return O().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,r){return O().useReducer(e,t,r)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},294:(e,t,r)=>{"use strict";e.exports=r(408)},726:function(e,t,r){"use strict";var n;!function(a){if("function"!=typeof o){var o=function(e){return e};o.nonNative=!0}const s=o("plaintext"),i=o("html"),l=o("comment"),u=/<(\w*)>/g,c=/<\/?([^\s\/>]+)/;function d(e,t,r){return m(e=e||"",y(t=t||[],r=r||""))}function y(e,t){return{allowable_tags:e=function(e){let t=new Set;if("string"==typeof e){let r;for(;r=u.exec(e);)t.add(r[1])}else o.nonNative||"function"!=typeof e[o.iterator]?"function"==typeof e.forEach&&e.forEach(t.add,t):t=new Set(e);return t}(e),tag_replacement:t,state:s,tag_buffer:"",depth:0,in_quote_char:""}}function m(e,t){if("string"!=typeof e)throw new TypeError("'html' parameter must be a string");let r=t.allowable_tags,n=t.tag_replacement,a=t.state,o=t.tag_buffer,u=t.depth,c=t.in_quote_char,d="";for(let t=0,y=e.length;t<y;t++){let y=e[t];if(a===s)if("<"===y)a=i,o+=y;else d+=y;else if(a===i)switch(y){case"<":if(c)break;u++;break;case">":if(c)break;if(u){u--;break}c="",a=s,o+=">",r.has(p(o))?d+=o:d+=n,o="";break;case'"':case"'":c=y===c?"":c||y,o+=y;break;case"-":"<!-"===o&&(a=l),o+=y;break;case" ":case"\n":if("<"===o){a=s,d+="< ",o="";break}o+=y;break;default:o+=y}else if(a===l)if(">"===y)"--"==o.slice(-2)&&(a=s),o="";else o+=y}return t.state=a,t.tag_buffer=o,t.depth=u,t.in_quote_char=c,d}function p(e){let t=c.exec(e);return t?t[1].toLowerCase():null}d.init_streaming_mode=function(e,t){let r=y(e=e||[],t=t||"");return function(e){return m(e||"",r)}},void 0===(n=function(){return d}.call(t,r,t,e))||(e.exports=n)}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;if(document.getElementsByClassName("nav-tab-active").length>0&&(e=document.getElementsByClassName("nav-tab-active")[0].id),"general_settings"===e){var t=document.getElementById("yasr_auto_insert_switch").checked,r=document.getElementById("yasr-general-options-stars-title-switch").checked;!1===t&&jQuery(".yasr-auto-insert-options-class").prop("disabled",!0),!1===r&&jQuery(".yasr-stars-title-options-class").prop("disabled",!0),document.getElementById("yasr_auto_insert_switch").addEventListener("change",(function(){this.checked?jQuery(".yasr-auto-insert-options-class").prop("disabled",!1):jQuery(".yasr-auto-insert-options-class").prop("disabled",!0)})),document.getElementById("yasr-general-options-stars-title-switch").addEventListener("change",(function(){this.checked?jQuery(".yasr-stars-title-options-class").prop("disabled",!1):jQuery(".yasr-stars-title-options-class").prop("disabled",!0)})),document.getElementById("yasr-settings-custom-texts").addEventListener("click",(function(){document.getElementById("yasr-settings-custom-text-before-overall").value="Our Score",document.getElementById("yasr-settings-custom-text-before-visitor").value="Click to rate this post!",document.getElementById("yasr-settings-custom-text-after-visitor").value="[Total: %total_count% Average: %average%]",document.getElementById("yasr-settings-custom-text-rating-saved").value="Rating saved!",document.getElementById("yasr-settings-custom-text-rating-updated").value="Rating updated!",document.getElementById("yasr-settings-custom-text-must-sign-in").value="You must sign in to vote",document.getElementById("yasr-settings-custom-text-already-rated").value="You have already voted for this article with %rating%"}))}if("style_options"===e&&(wp.codeEditor.initialize(document.getElementById("yasr_style_options_textarea"),yasr_cm_settings),jQuery("#yasr-color-scheme-preview-link").on("click",(function(){return jQuery("#yasr-color-scheme-preview").toggle("slow"),!1})),wp.hooks.doAction("yasrStyleOptions")),"manage_multi"===e){var n=parseInt(document.getElementById("n-multiset").value);if(jQuery("#yasr-multi-set-doc-link").on("click",(function(){jQuery("#yasr-multi-set-doc-box").toggle("slow")})),jQuery("#yasr-multi-set-doc-link-hide").on("click",(function(){jQuery("#yasr-multi-set-doc-box").toggle("slow")})),1===n){var a=jQuery("#yasr-edit-form-number-elements").attr("value");a++,jQuery("#yasr-add-field-edit-multiset").on("click",(function(){if(a>9)return jQuery("#yasr-element-limit").show(),jQuery("#yasr-add-field-edit-multiset").hide(),!1;var e=jQuery(document.createElement("tr"));e.html('<td colspan="2">Element #'+a+' <input type="text" name="edit-multi-set-element-'+a+'" value="" ></td>'),e.appendTo("#yasr-table-form-edit-multi-set"),a++}))}else n>1&&(jQuery("#yasr-button-select-set-edit-form").on("click",(function(){var e={action:"yasr_get_multi_set",set_id:jQuery("#yasr_select_edit_set").val()};return jQuery.post(ajaxurl,e,(function(e){jQuery("#yasr-multi-set-response").show(),jQuery("#yasr-multi-set-response").html(e)})),!1})),jQuery(document).ajaxComplete((function(){var e=jQuery("#yasr-edit-form-number-elements").attr("value");e++,jQuery("#yasr-add-field-edit-multiset").on("click",(function(){if(e>9)return jQuery("#yasr-element-limit").show(),jQuery("#yasr-add-field-edit-multiset").hide(),!1;var t=jQuery(document.createElement("tr"));t.html('<td colspan="2">Element #'+e+' <input type="text" name="edit-multi-set-element-'+e+'" value="" ></td>'),t.appendTo("#yasr-table-form-edit-multi-set"),e++}))})))}"migration_tools"===e&&(jQuery("#yasr-import-ratemypost-submit").on("click",(function(){document.getElementById("yasr-import-ratemypost-answer").innerHTML='<img src="'+yasrWindowVar.loaderUrl+'" alt="yasr-loader" width="16" height="16">';var e={action:"yasr_import_ratemypost",nonce:document.getElementById("yasr-import-rmp-nonce").value};jQuery.post(ajaxurl,e,(function(e){e=JSON.parse(e),document.getElementById("yasr-import-ratemypost-answer").innerHTML=e}))})),jQuery("#yasr-import-wppr-submit").on("click",(function(){document.getElementById("yasr-import-wppr-answer").innerHTML='<img src="'+yasrWindowVar.loaderUrl+'" alt="yasr-loader" width="16" height="16">';var e={action:"yasr_import_wppr",nonce:document.getElementById("yasr-import-wppr-nonce").value};jQuery.post(ajaxurl,e,(function(e){document.getElementById("yasr-import-wppr-answer").innerHTML=e}))})),jQuery("#yasr-import-kksr-submit").on("click",(function(){document.getElementById("yasr-import-kksr-answer").innerHTML='<img src="'+yasrWindowVar.loaderUrl+'" alt="yasr-loader" width="16" height="16">';var e={action:"yasr_import_kksr",nonce:document.getElementById("yasr-import-kksr-nonce").value};jQuery.post(ajaxurl,e,(function(e){document.getElementById("yasr-import-kksr-answer").innerHTML=e}))})),jQuery("#yasr-import-mr-submit").on("click",(function(){document.getElementById("yasr-import-mr-answer").innerHTML='<img src="'+yasrWindowVar.loaderUrl+'" alt="yasr-loader" width="16" height="16">';var e={action:"yasr_import_mr",nonce:document.getElementById("yasr-import-mr-nonce").value};jQuery.post(ajaxurl,e,(function(e){document.getElementById("yasr-import-mr-answer").innerHTML=e}))})),wp.hooks.doAction("yasr_migration_page_bottom")),"rankings"===e&&wp.hooks.doAction("yasr_ranking_page_top")})(),(()=>{"use strict";let e;var t,n=new Uint8Array(16);function a(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const s=function(e){return"string"==typeof e&&o.test(e)};for(var i=[],l=0;l<256;++l)i.push((l+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r};const c=function(e,t,r){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return u(n)};var d=r(294),y=r(726),m=r.n(y),p=function(e){var t=e.html;return d.createElement("div",{dangerouslySetInnerHTML:{__html:m()(t,"<strong><p>")}})},f=function(e){var t=e.size,r=e.htmlId,n=e.element,a=e.step,o=e.readonly,s=e.rating;return d.createElement("div",{id:r,ref:function(){return yasrSetRaterValue(t,r,n,a,o,s)}})};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var a=E(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var w=wp.element.render;function k(e){if(void 0!==e.post.number_of_votes){var t=JSON.parse(yasrWindowVar.textAfterVr);return t=(t=t.replace("%total_count%",e.post.number_of_votes)).replace("%average%",e.post.rating),React.createElement("div",{className:"yasr-most-rated-text"},React.createElement(p,{html:t}))}var r=e.text;return React.createElement("div",{className:"yasr-highest-rated-text"},r," ",e.post.rating)}function I(t){return React.createElement("td",{className:t.colClass},React.createElement("a",{href:t.post.link},function(t){if("string"!=typeof t||-1===t.indexOf("&"))return t;void 0===e&&(e=document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument("").createElement("textarea"):document.createElement("textarea")),e.innerHTML=t;const r=e.textContent;return e.innerHTML="",r}(t.post.title)))}function j(e){var t="after",r=JSON.parse(yasrWindowVar.textRating),n=new URLSearchParams(e.rankingParams);null!==n.get("text_position")&&(t=n.get("text_position")),null!==n.get("custom_txt")&&(r=n.get("custom_txt"));var a={rating:e.post.rating,htmlId:"yasr-ranking-element-"+c(),size:document.getElementById(e.tableId).dataset.rankingSize};return"before"===t?React.createElement("td",{className:e.colClass},React.createElement(k,{post:e.post,tableId:e.tableId,text:r}),React.createElement(f,a)):React.createElement("td",{className:e.colClass},React.createElement(f,a),React.createElement(k,{post:e.post,tableId:e.tableId,text:r}))}function R(e){return React.createElement("tr",{className:e.trClass},React.createElement(I,{colClass:e.leftClass,post:e.post}),React.createElement(j,{colClass:e.rightClass,post:e.post,tableId:e.tableId,rankingParams:e.rankingParams}))}function x(e){var t=e.tBodyId,r=e.show,n=e.data,a=e.source,o=e.rankingParams,s=e.tableId;return React.createElement("tbody",{id:t,style:{display:r}},n.map((function(e,t){var r="yasr-rankings-td-colored",n="yasr-top-10-most-highest-left",i="yasr-top-10-most-highest-right";return"author_ranking"===a&&(r="yasr-rankings-td-white",n="yasr-top-10-overall-left",i="yasr-top-10-overall-right"),t%2==0&&(r="yasr-rankings-td-white","author_ranking"===a&&(r="yasr-rankings-td-colored")),React.createElement(R,{key:e.post_id,source:a,tableId:s,rankingParams:o,post:e,trClass:r,leftClass:n,rightClass:i})})))}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(o,React.Component);var t,r,n,a=_(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={error:null,isLoaded:!1,data:[],tableId:e.tableId,source:e.source,rankingParams:e.params,nonce:e.nonce},t}return t=o,r=[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(document.getElementById(this.state.tableId).dataset.rankingData),r={};if("yes"!==yasrWindowVar.ajaxEnabled)console.info("Ajax Disabled, getting data from source"),this.setState({isLoaded:!0,data:t});else if(this.state.source){var n=this.returnRestUrl();Promise.all(n.map((function(e){return fetch(e).then((function(e){return!0===e.ok?e.json():(console.info("Ajax Call Failed. Getting data from source"),"KO")})).then((function(e){"KO"===e?r=t:"overall_rating"===e.source||"author_multi"===e.source?r="overall_rating"===e.source?e.data_overall:e.data_mv:r[e.show]=e.data_vv})).catch((function(e){r=t,console.info(e)}))}))).then((function(t){e.setState({isLoaded:!0,data:r})})).catch((function(t){console.info(t),e.setState({isLoaded:!0,data:r})}))}else this.setState({error:"Invalid Data Source"})}},{key:"returnRestUrl",value:function(){var e,t=""!==this.state.rankingParams?this.state.rankingParams:"",r=this.state.source,n="&nonce_rankings="+this.state.nonce,a="";if(""!==t&&!1!==t){var o=new URLSearchParams(t);null!==o.get("order_by")&&(a+="order_by="+o.get("order_by")),null!==o.get("limit")&&(a+="&limit="+o.get("limit")),null!==o.get("start_date")&&"0"!==o.get("start_date")&&(a+="&start_date="+o.get("start_date")),null!==o.get("end_date")&&"0"!==o.get("end_date")&&(a+="&end_date="+o.get("end_date")),null!==o.get("ctg")?a+="&ctg="+o.get("ctg"):null!==o.get("cpt")&&(a+="&cpt="+o.get("cpt")),""!==a&&(a="&"+(a=a.replace(/\s+/g,""))),"visitor_multi"!==r&&"author_multi"!==r||null!==o.get("setid")&&(a+="&setid="+o.get("setid"))}else a="";if("author_ranking"===r||"author_multi"===r)e=[yasrWindowVar.ajaxurl+"?action=yasr_load_rankings&source="+r+a+n];else{var s="",i="";if(""!==t){var l=new URLSearchParams(t);null!==l.get("required_votes[most]")&&(s="&required_votes="+l.get("required_votes[most]")),null!==l.get("required_votes[highest]")&&(i="&required_votes="+l.get("required_votes[highest]"))}e=[yasrWindowVar.ajaxurl+"?action=yasr_load_rankings&show=most&source="+r+a+s+n,yasrWindowVar.ajaxurl+"?action=yasr_load_rankings&show=highest&source="+r+a+i+n]}return e}},{key:"rankingTableHead",value:function(e,t){var r=this.state.tableId,n="link-most-rated-posts-"+r,a="link-highest-rated-posts-"+r;if("author_ranking"!==e){var o=React.createElement("span",null,React.createElement("span",{id:n},JSON.parse(yasrWindowVar.textMostRated))," | ",React.createElement("a",{href:"#",id:a,onClick:this.switchTBody.bind(this)},JSON.parse(yasrWindowVar.textHighestRated)));return"highest"===t&&(o=React.createElement("span",null,React.createElement("span",{id:a},JSON.parse(yasrWindowVar.textHighestRated))," | ",React.createElement("a",{href:"#",id:n,onClick:this.switchTBody.bind(this)},JSON.parse(yasrWindowVar.textMostRated)))),React.createElement("thead",null,React.createElement("tr",{className:"yasr-rankings-td-colored yasr-rankings-heading"},React.createElement("th",null,JSON.parse(yasrWindowVar.textLeftColumnHeader)),React.createElement("th",null,JSON.parse(yasrWindowVar.textOrderBy),":  ",o)))}return React.createElement(React.Fragment,null)}},{key:"switchTBody",value:function(e){e.preventDefault();var t=e.target.id,r=this.state.tableId,n="link-most-rated-posts-"+r,a="link-highest-rated-posts-"+r,o="most-rated-posts-"+r,s="highest-rated-posts-"+r,i=document.getElementById(t),l=document.createElement("span");l.innerHTML=i.innerHTML,l.id=i.id,i.parentNode.replaceChild(l,i),t===n&&(document.getElementById(s).style.display="none",document.getElementById(o).style.display="",l=document.getElementById(a),i.innerHTML=l.innerHTML,i.id=l.id,l.parentNode.replaceChild(i,l)),t===a&&(document.getElementById(o).style.display="none",document.getElementById(s).style.display="",l=document.getElementById(n),i.innerHTML=l.innerHTML,i.id=l.id,l.parentNode.replaceChild(i,l))}},{key:"rankingTableBody",value:function(){var e=this.state,t=e.data,r=e.source,n=e.rankingParams;if("overall_rating"===r||"author_multi"===r)return React.createElement(x,{data:t,tableId:this.state.tableId,tBodyId:"overall_"+this.state.tableId,rankingParams:n,show:"table-row-group",source:r});var a=t.most,o=t.highest,s="table-row-group",i="none",l="most",u=s,c=i,d=new URLSearchParams(n);return null!==d.get("view")&&(l=d.get("view")),"highest"===l&&(u=i,c=s),React.createElement(React.Fragment,null,this.rankingTableHead(r,l),React.createElement(x,{data:a,tableId:this.state.tableId,tBodyId:"most-rated-posts-"+this.state.tableId,rankingParams:n,show:u,source:r}),React.createElement(x,{data:o,tableId:this.state.tableId,tBodyId:"highest-rated-posts-"+this.state.tableId,rankingParams:n,show:c,source:r}))}},{key:"render",value:function(){var e=this.state,t=e.error,r=e.isLoaded;return t?React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,console.log(t),"Error"))):!1===r?React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,JSON.parse(yasrWindowVar.textLoadRanking)))):React.createElement(React.Fragment,null,this.rankingTableBody())}}],r&&h(t.prototype,r),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}();function S(){var e=document.getElementsByClassName("yasr-stars-rankings");if(e.length>0)for(var t=0;t<e.length;t++){var r=e.item(t).id,n=JSON.parse(e.item(t).dataset.rankingSource),a=JSON.parse(e.item(t).dataset.rankingParams),o=JSON.parse(e.item(t).dataset.rankingNonce),s=document.getElementById(r);w(React.createElement(B,{source:n,tableId:r,params:a,nonce:o}),s)}}S();tippy(document.querySelectorAll(".yasr-copy-shortcode"),{content:"Copied! Insert into your post!",theme:"yasr",arrow:"true",arrowType:"round",trigger:"click"});var C,O=wp.i18n.__;if(document.getElementsByClassName("nav-tab-active").length>0&&(C=document.getElementsByClassName("nav-tab-active")[0].id),"rankings"===C){var P,L=function(e){var t=D.value,r=document.getElementById("yasr-builder-shortcode").textContent,n=["yasr_ov_ranking","yasr_most_or_highest_rated_posts","yasr_multi_set_ranking","yasr_visitor_multi_set_ranking"];n=wp.hooks.applyFilters("yasrBuilderDrawRankingsShortcodes",n),fetch(ajaxurl+"?action=yasr_rankings_preview_shortcode&shortcode="+t+"&full_shortcode="+r).then((function(e){return!0===e.ok?e.json():(console.info(O("Ajax Call Failed. Shortcode preview can't be done","yet-another-stars-rating")),"KO")})).catch((function(e){console.info(e)})).then((function(e){if("KO"!==e){var t=document.createElement("div");t.innerHTML=e,W.childNodes.length>0?W.replaceChild(t,W.childNodes[0]):W.appendChild(t)}})).then((function(e){n.forEach((function(e){t===e&&S()}))}))},N=function(e,t,r,n,a,o,s,i,l){e.style.display="",t.style.display="",o.style.display="",l.style.display="",r.style.display="none",n.style.display="none",a.style.display="none",null!==s&&(s.style.display=""),null!==i&&(i.style.display="none")},T=function(e,t,r,n,a,o,s,i,l){r.style.display="",n.style.display="",t.style.display="",o.style.display="",l.style.display="",e.style.display="none",a.style.display="none",null!==s&&(s.style.display=""),null!==i&&(i.style.display="none")},Q=function(e,t,r,n,a,o,s,i,l){a.style.display="",l.style.display="none",e.style.display="none",r.style.display="none",n.style.display="none",t.style.display="none",o.style.display="none",null!==s&&(s.style.display="none"),null!==i&&(i.style.display="none")},M=function(e,t,r,n,a,o,s,i){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9?arguments[9]:void 0;!0===l?(K.className="",K.classList.add("yasr-settings-row-24"),r.style.display="",n.style.display="",e.style.display="none"):(r.style.display="none",n.style.display="none",e.style.display=""),o.style.display="",t.style.display="",u.style.display="",a.style.display="none",null!==s&&(s.style.display=""),null!==i&&(i.style.display="")},H=".yasr-builder-elements-parents",V=".yasr-builder-elements-childs";jQuery(H).prop("disabled",!0),jQuery(V).prop("disabled",!0),jQuery(H).find("input").each((function(){jQuery(this).prop("disabled",!0)})),wp.hooks.doAction("yasrBuilderBegin",H,V);var A=[],$={name:"yasr_most_or_highest_rated_posts",setid:"",rows:"",size:"",view:"",minvotesmost:"",minvoteshg:"",txtPosition:"",txt:"",display:"",start_date:"",end_date:"",category:"",cpt:""};P=$.name,document.getElementById("yasr-builder-shortcode").textContent="["+P+"]",document.getElementById("yasr-builder-copy-shortcode").setAttribute("data-shortcode","["+P+"]");var U=document.getElementById("yasr-builder-button-preview"),q=document.getElementById("yasr-builder-copy-shortcode"),W=document.getElementById("yasr-builder-preview"),D=document.getElementById("yasr-ranking-source"),F=document.getElementById("yasr-ranking-multiset-select"),J=document.getElementById("yasr-builder-datepicker-start"),z=document.getElementById("yasr-builder-datepicker-end"),K=document.getElementById("yasr-builder-params-container"),Y=document.getElementById("builder-vv-default-view"),G=document.getElementById("builder-vv-required-votes"),X=document.getElementById("builder-stars-size"),Z=document.getElementById("builder-overall-text"),ee=document.getElementById("builder-username-options"),te=document.getElementById("builder-category"),re=document.getElementById("builder-cpt"),ne=document.getElementById("yasr-ranking-multiset"),ae=document.getElementById("yasr-builder-datepicker"),oe=D.value,se=!1;J.value="",z.value="","yasr_ov_ranking"===oe?N(Z,X,Y,G,ee,te,re,ne,ae):"yasr_most_active_users"===oe||"yasr_top_reviewers"===oe?Q(Z,X,Y,G,ee,te,re,ne,ae):"yasr_multi_set_ranking"===oe?M(Z,X,Y,G,ee,te,re,ne,!1,ae):"yasr_visitor_multi_set_ranking"===oe?M(Z,X,Y,G,ee,te,re,ne,!0,ae):T(Z,X,Y,G,ee,te,re,ne,ae),document.addEventListener("change",(function(e){if("yasr-ranking-source"===e.target.id)K.className="",K.classList.add("yasr-settings-row-33"),W.innerHTML="",J.value="",z.value="",$={name:"yasr_most_or_highest_rated_posts",setid:"",rows:"",size:"",view:"",minvotesmost:"",minvoteshg:"",txtPosition:"",txt:"",display:"",start_date:"",end_date:"",category:"",cpt:""},"yasr_ov_ranking"===e.target.value?N(Z,X,Y,G,ee,te,re,ne,ae):"yasr_most_active_users"===e.target.value||"yasr_top_reviewers"===e.target.value?Q(Z,X,Y,G,ee,te,re,ne,ae):"yasr_multi_set_ranking"===e.target.value?(M(Z,X,Y,G,ee,te,re,ne,!1,ae),$.setid=" setid="+F[0].value):"yasr_visitor_multi_set_ranking"===e.target.value?(M(Z,X,Y,G,ee,te,re,ne,!0,ae),$.setid=" setid="+F[0].value):T(Z,X,Y,G,ee,te,re,ne,ae),$.name=e.target.value,P=$.name+$.setid;else{"yasr-ranking-multiset-select"===e.target.id&&($.setid=" setid="+e.target.value),A=wp.hooks.applyFilters("yasrBuilderFilterShortcode",$);for(var t=2;$.length;t++)A.hasOwnProperty($[t])&&($[t]=A[t]);P=$.name+$.setid+$.rows+$.view+$.minvotesmost+$.minvoteshg+$.size+$.txtPosition+$.txt+$.display+$.start_date+$.end_date+$.category+$.cpt}document.getElementById("yasr-builder-shortcode").textContent="["+P+"]",document.getElementById("yasr-builder-copy-shortcode").setAttribute("data-shortcode","["+P+"]"),!0===se&&"yasr-ranking-source"!==e.target.id&&"yasr-builder-category-radio"!==e.target.name&&L()})),q.onclick=function(e){!function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(document.getElementById(e.target.id).getAttribute("data-shortcode"))},U.onclick=function(e){L(),se=!0}}})()})();